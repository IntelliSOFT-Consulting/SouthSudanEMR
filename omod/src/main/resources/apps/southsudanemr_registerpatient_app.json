[
  {
    "id": "southsudanemr.registrationapp.registerPatient",
    "instanceOf": "registrationapp.registerPatient",
    "label": "Register Patient",
    "description": "southsudanemr.registrationapp.registerpatient.description",
    "extensions": [
      {
        "id": "southsudanemr.registrationapp.registerPatient.homepageLink",
        "extensionPointId": "org.openmrs.referenceapplication.homepageLink",
        "type": "link",
        "label": "Register Patient",
        "url": "registrationapp/registerPatient.page?appId=southsudanemr.registrationapp.registerPatient",
        "icon": "icon-user",
        "order": 5,
        "requiredPrivilege": "App: registrationapp.registerPatient"
      }
    ],
    "config": {
      "allowUnknownPatients": false,
      "allowRetrospectiveEntry": true,
      "afterCreatedUrl": "/coreapps/clinicianfacing/patient.page?patientId={{patientId}}",
      "sections": [
        {
          "id": "demographics",
          "label": "southsudanemr.registrationapp.otherdetails",
          "questions": [
            {
              "legend": "southsudanemr.registrationapp.maritalstatus",
              "fields": [
                {
                  "type": "obs",
                  "label": "southsudanemr.registrationapp.maritalstatus.question",
                  "formFieldName": "obs.dce0c134-30ab-102d-86b0-7a5022ba4115",
                  "widget": {
                    "providerName": "southsudanemr",
                    "fragmentId": "field/maritalStatus"
                  }
                }
              ]
            },
            {
              "legend": "southsudanemr.registrationapp.occupation",
              "fields": [
                {
                  "type": "personAttribute",
                  "label": "southsudanemr.registrationapp.occupation.question",
                  "formFieldName": "occupation",
                  "uuid": "b0868a16-4f8e-43da-abfc-6338c9d8f56a",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text"
                  }
                }
              ]
            },
            {
              "legend": "southsudanemr.registrationapp.currentaddress",
              "fields": [
                {
                  "type": "personAddress",
                  "label": "southsudanemr.registrationapp.currentaddress.question",
                  "formFieldName": "patientAddress",
                  "widget": {
                    "providerName": "registrationapp",
                    "fragmentId": "field/personAddressWithHierarchy",
                    "config": {
                      "manualFields": [
                        "address4",
                        "address5"
                      ]
                    }
                  }
                }
              ]
            },
            {
              "legend": "southsudanemr.registrationapp.phonenumber",
              "fields": [
                {
                  "type": "personAttribute",
                  "label": "southsudanemr.registrationapp.phonenumber.question",
                  "formFieldName": "phoneNumber",
                  "uuid": "14d4f066-15f5-102d-96e4-000c29c2a5d7",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text",
                    "config": {
                      "regex": "^[0-9]{10}$|^$"
                    }
                  },
                  "cssClasses": [
                    "number",
                    "regex"
                  ]
                },
                {
                  "type": "personAttribute",
                  "label": "southsudanemr.registrationapp.phonenumber2.question",
                  "formFieldName": "phoneNumber2",
                  "uuid": "8c44d411-285f-46c6-9f17-c2f919823b34",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text",
                    "config": {
                      "regex": "^[0-9]{10}$|^$"
                    }
                  },
                  "cssClasses": [
                    "number",
                    "regex"
                  ]
                },
                {
                  "type": "personAttribute",
                  "label": "southsudanemr.registrationapp.phonenumber3.question",
                  "formFieldName": "phoneNumber3",
                  "uuid": "a00eda65-2f66-4fda-a683-c1787eb626a9",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text",
                    "config": {
                      "regex": "^[0-9]{10}$|^$"
                    }
                  },
                  "cssClasses": [
                    "number",
                    "regex"
                  ]
                }
              ]
            },
            {
              "legend": "southsudanemr.registrationapp.nationalid",
              "fields": [
                {
                  "type": "patientIdentifier",
                  "label": "southsudanemr.registrationapp.nationalid.question",
                  "formFieldName": "nationalid",
                  "uuid": "f0c16a6d-dc5f-4118-a803-616d0075d282",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text",
                    "config": {
                      "id": "nationalid",
                      "regex": "^$|^[A-Z][FM]\\d{5}([A-Z0-9]){7}$"
                    }
                  },
                  "cssClasses": [
                    "regex"
                  ]
                },
                {
                  "type": "obs",
                  "label": "southsudanemr.registrationapp.nationalid.confirm",
                  "formFieldName": "confirm_nationalid",
                  "uuid": "dce11ec2-30ab-102d-86b0-7a5022ba4115",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text",
                    "config": {
                      "id": "confirm_nationalid",
                      "regex": "^$|^[A-Z][FM]\\d{5}([A-Z0-9]){7}$"
                    }
                  },
                  "cssClasses": [
                    "regex"
                  ]
                }
              ]
            }
          ]
        }
      ]
    }
  }
]