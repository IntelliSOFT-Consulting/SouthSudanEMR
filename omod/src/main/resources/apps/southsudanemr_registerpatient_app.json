[
  {
    "id": "southsudanemr.registerPatient",
    "instanceOf": "registrationapp.registerPatient",
    "label": "Register Patient",
    "description": "southsudanemr.registerpatient.description",
    "extensions": [
      {
        "id": "southsudanemr.registerPatient.homepageLink",
        "extensionPointId": "org.openmrs.referenceapplication.homepageLink",
        "type": "link",
        "label": "Register Patient",
        "url": "registrationapp/registerPatient.page?appId=southsudanemr.registerPatient",
        "icon": "icon-user",
        "order": 5,
        "requiredPrivilege": "App: registrationapp.registerPatient"
      }
    ],
    "config": {
      "allowUnknownPatients": false,
      "allowRetrospectiveEntry": true,
      "afterCreatedUrl": "/coreapps/clinicianfacing/patient.page?patientId={{patientId}}",
      "sections": [
        {
          "id": "demographics",
          "label": "southsudanemr.registrationapp.otherdetails",
          "questions": [
            {
              "legend": "Address & Contacts",
              "fields": [
                {
                  "type": "personAttribute",
                  "label": "Village",
                  "formFieldName": "village",
                  "uuid": "14d4f066-15f5-102d-96e4-000c29c2a5d7",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text"
                  }
                },
                {
                  "type": "personAttribute",
                  "label": "Landmark",
                  "formFieldName": "landmark",
                  "uuid": "8c44d411-285f-46c6-9f17-c2f919823b34",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text"
                  }
                },
                {
                  "type": "personAttribute",
                  "label": "Mobile Number",
                  "formFieldName": "mobileNumber",
                  "uuid": "f8578772-38dd-11e9-b4e2-8fa3c8be8eca",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text",
                    "config": {
                      "regex": "^[0-9]{10}$|^$"
                    }
                  },
                  "cssClasses": [
                    "number", "regex"
                  ]
                },
                {
                  "type": "personAttribute",
                  "label": "Alternative Mobile Number",
                  "formFieldName": "alternativeMobileNumber",
                  "uuid": "250edff4-38de-11e9-94e6-1fda4e6c49ee",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text",
                    "config": {
                      "regex": "^[0-9]{10}$|^$"
                    }
                  },
                  "cssClasses": [
                    "number", "regex"
                  ]
                }
              ]
            },
            {
              "legend": "Treatment Supporter",
              "fields": [
                {
                  "type": "personAttribute",
                  "label": "First Name",
                  "formFieldName": "supporterFirstName",
                  "uuid": "2d17c3f0-38ed-11e9-ac35-0f1befa73a84",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text"
                  }
                },
                {
                  "type": "personAttribute",
                  "label": "Last Name",
                  "formFieldName": "supporterLastName",
                  "uuid": "5f0c5fce-38ed-11e9-9f45-ab353e2c8c47",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text"
                  }
                },
                {
                  "type": "personAttribute",
                  "label": "Mobile Number",
                  "formFieldName": "supporterMobileNumber",
                  "uuid": "99a0f6a4-38ed-11e9-b80b-c3d8b563284d",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text",
                    "config": {
                      "regex": "^[0-9]{10}$|^$"
                    }
                  },
                  "cssClasses": [
                    "number", "regex"
                  ]
                },
                {
                  "type": "personAttribute",
                  "label": "Address",
                  "formFieldName": "supporterAddress",
                  "uuid": "c4acc616-38ed-11e9-a13f-d3831b0ff624",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text"
                  }
                },
                {
                  "type": "personAttribute",
                  "label": "Homebased Care Provider",
                  "formFieldName": "supporterCareProvider",
                  "uuid": "150c5ee6-38ee-11e9-85fa-2b4a1bb1310c",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text"
                  }
                }
              ]
            },
            {
              "legend": "Patient Identifiers",
              "fields": [
                {
                  "type": "patientIdentifier",
                  "label": "Unique ART No.",
                  "formFieldName": "uniqueARTNo",
                  "uuid": "5a580b6a-3508-11e9-aba5-dbb924006cb7",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text",
                    "config": {
                      "id": "uniqueARTNo",
                      "regex": "^$|^[A-Z][FM]\\d{5}([A-Z0-9]){7}$"
                    }
                  },
                  "cssClasses": [
                    "regex"
                  ]
                },
                {
                  "type": "patientIdentifier",
                  "label": "HIV Exposed Infant No.",
                  "formFieldName": "heiNo",
                  "uuid": "4fcb62cc-3509-11e9-8c1e-73e323400228",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text",
                    "config": {
                      "id": "heiNo",
                      "regex": "^$|^[A-Z][FM]\\d{5}([A-Z0-9]){7}$"
                    }
                  },
                  "cssClasses": [
                    "regex"
                  ]
                }
              ]
            }
          ]
        }
      ]
    }
  }
]